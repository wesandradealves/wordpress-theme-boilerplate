import{R as v,C as $,L as R}from"./Redirects.4937c6a9.js";import{j as f,u as w}from"./links.4ebb20e1.js";import{r as t,o as s,d as u,w as p,a as g,g as c,C,y as b,b as _,c as y}from"./vue.runtime.esm-bundler.a2ae84e1.js";import{_ as h}from"./_plugin-vue_export-helper.d7c6d548.js";import{C as T}from"./index.63c9ec9d.js";import"./Caret.833cbb47.js";/* empty css                                            *//* empty css                                              */import"./default-i18n.cb62c1e5.js";import"./constants.3cff9bad.js";import{J as x}from"./JsonValues.870a4901.js";/* empty css                                              */import{C as U}from"./Index.1135c9ed.js";import{C as k}from"./Card.fb1280a3.js";import{A}from"./AddonConditions.422a2842.js";const L={setup(){return{redirectsStore:f(),rootStore:w()}},components:{CoreAlert:T},data(){return{strings:{nginxReload:this.$t.sprintf(this.$t.__("Your redirect settings have been updated. In order for them to work properly you may need to reload your %1$s configuration. %2$s",this.$tdPro),this.detectedServer(),this.$links.getDocLink(this.$constants.GLOBAL_STRINGS.learnMore,"redirectServerConfigReload",!0)),dontKnow:this.$t.__("If you don't know how to do that please revert your Redirect Method to PHP.",this.$tdPro),checkAgain:this.$t.__("Check Again",this.$tdPro)}}},methods:{maybeTest(){this.redirectsStore.testServerRedirects()},detectedServer(){return this.rootStore.aioseo.data.server.apache?"Apache":this.rootStore.aioseo.data.server.nginx?"NGINX":this.$t.__("Server",this.$tdPro)}},mounted(){this.maybeTest(),window.aioseoBus.$on("changes-saved",this.maybeTest)},beforeUnmount(){window.aioseoBus.$off("changes-saved",this.maybeTest)}},N=["innerHTML"],P=["innerHTML"];function M(e,d,m,r,o,n){const i=t("base-button"),a=t("core-alert");return r.redirectsStore.server.redirectTest.failed&&r.redirectsStore.options.main.method==="server"?(s(),u(a,{key:0,size:"small",type:"yellow"},{default:p(()=>[g("div",{innerHTML:o.strings.nginxReload},null,8,N),g("div",{innerHTML:o.strings.dontKnow},null,8,P),c(i,{type:"blue",size:"small",onClick:d[0]||(d[0]=l=>r.redirectsStore.testServerRedirects()),loading:r.redirectsStore.server.redirectTest.testing},{default:p(()=>[C(b(o.strings.checkAgain),1)]),_:1},8,["loading"])]),_:1})):_("",!0)}const B=h(L,[["render",M],["__scopeId","data-v-d3d21685"]]),q={setup(){return{redirectsStore:f()}},components:{CoreAddRedirection:U,CoreCard:k,ServerConfigReloadWarning:B,RedirectsTable:v},mixins:[x],data(){return{queryUrls:[],targetUrl:"",type:0,strings:{addNewRedirection:this.$t.__("Add New Redirection",this.$tdPro)}}},computed:{getType(){return this.type?this.type:-1},getTarget(){return this.targetUrl?this.targetUrl:this.queryUrls.length?"/":""},getUrls(){return this.redirectsStore.manualUrls.length?(this.redirectsStore.manualUrls.forEach(e=>{this.queryUrls.push({url:e.url,regex:e.regex||!1,ignoreSlash:e.slash||!1,ignoreCase:e.case||!1,errors:[],warnings:[]}),e.target&&(this.targetUrl=e.target),e.type&&(this.type=e.type)}),this.queryUrls):this.queryUrls}}},H={class:"aioseo-redirects"};function I(e,d,m,r,o,n){const i=t("server-config-reload-warning"),a=t("core-add-redirection"),l=t("core-card"),S=t("redirects-table");return s(),y("div",H,[c(i),c(l,{slug:"addNewRedirection","header-text":o.strings.addNewRedirection},{default:p(()=>[c(a,{urls:n.getUrls,target:n.getTarget,type:n.getType},null,8,["urls","target","type"])]),_:1},8,["header-text"]),c(S)])}const V=h(q,[["render",I]]),j={mixins:[A],components:{Cta:$,Lite:R,Redirects:V},data(){return{addonSlug:"aioseo-redirects"}}},z={class:"aioseo-redirects-main"};function G(e,d,m,r,o,n){const i=t("redirects",!0),a=t("cta"),l=t("lite");return s(),y("div",z,[e.shouldShowMain?(s(),u(i,{key:0})):_("",!0),e.shouldShowUpdate||e.shouldShowActivate?(s(),u(a,{key:1})):_("",!0),e.shouldShowLite?(s(),u(l,{key:2})):_("",!0)])}const O=h(j,[["render",G]]),ne=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"}));export{O as R,B as S,ne as a};
