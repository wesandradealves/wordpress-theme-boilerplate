import{l as m}from"./default-i18n.cb62c1e5.js";import{m as h}from"./get.3ac6bf22.js";import{a as b}from"./_arrayEach.56a9f647.js";import{B as k,g as R,C as E,a as v}from"./isArrayLikeObject.7cab3d31.js";import{k as y}from"./_getAllKeys.6f3be0f6.js";function _(e,r){return e&&k(e,r,y)}function x(e,r){return function(n,s){if(n==null)return n;if(!R(n))return e(n,s);for(var t=n.length,c=r?t:-1,a=Object(n);(r?c--:++c<t)&&s(a[c],c,a)!==!1;);return n}}var w=x(_);const $=w;function T(e){return typeof e=="function"?e:E}function j(e,r){var n=v(e)?b:$;return n(e,T(r))}function S(e){return e=e.replace(/\s{2,}/g," "),e=e.replace(/\s\./g,"."),e=e.replace(/^\s+/g,""),e=e.replace(/\s+$/g,""),e}var p=function(e,r){var n;for(n=0;n<e.length;n++)if(e[n].regex.test(r))return e[n]},f=function(e,r){var n,s,t;for(n=0;n<r.length;n++)if(s=p(e,r.substring(0,n+1)),s)t=s;else if(t)return{max_index:n,rule:t};return t?{max_index:r.length,rule:t}:void 0},z=function(e){var r="",n=[],s=1,t=1,c=function(a,o){e({type:o,src:a,line:s,col:t});var i=a.split(`
`);s+=i.length-1,t=(i.length>1?1:t)+i[i.length-1].length};return{addRule:function(a,o){n.push({regex:a,type:o})},onText:function(a){for(var o=r+a,i=f(n,o);i&&i.max_index!==o.length;)c(o.substring(0,i.max_index),i.rule.type),o=o.substring(i.max_index),i=f(n,o);r=o},end:function(){if(r.length!==0){var a=p(n,r);if(!a){var o=new Error("unable to tokenize");throw o.tokenizer2={buffer:r,line:s,col:t},o}c(r,a.type)}}}};const A=m(z),d=["address","article","aside","blockquote","canvas","details","dialog","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"],g=["b","big","i","small","tt","abbr","acronym","cite","code","dfn","em","kbd","strong","samp","time","var","a","bdo","br","img","map","object","q","script","span","sub","sup","button","input","label","select","textarea"],B=new RegExp("^<("+d.join("|")+")[^>]*?>$","i"),F=new RegExp("^</("+d.join("|")+")[^>]*?>$","i"),C=new RegExp("^<("+g.join("|")+")[^>]*>$","i"),L=new RegExp("^</("+g.join("|")+")[^>]*>$","i"),q=/^<([^>\s/]+)[^>]*>$/,M=/^<\/([^>\s]+)[^>]*>$/,O=/^[^<]+$/,D=/^<[^><]*$/,G=/<!--(.|[\r\n])*?-->/g;let u=[],l;function I(){u=[],l=A(function(e){u.push(e)}),l.addRule(O,"content"),l.addRule(D,"greater-than-sign-content"),l.addRule(B,"block-start"),l.addRule(F,"block-end"),l.addRule(C,"inline-start"),l.addRule(L,"inline-end"),l.addRule(q,"other-element-start"),l.addRule(M,"other-element-end")}function P(e){const r=[];let n=0,s="",t="",c="";return e=e.replace(G,""),I(),l.onText(e),l.end(),j(u,function(a,o){const i=u[o+1];switch(a.type){case"content":case"greater-than-sign-content":case"inline-start":case"inline-end":case"other-tag":case"other-element-start":case"other-element-end":case"greater than sign":!i||n===0&&(i.type==="block-start"||i.type==="block-end")?(t+=a.src,r.push(t),s="",t="",c=""):t+=a.src;break;case"block-start":n!==0&&(t.trim()!==""&&r.push(t),t="",c=""),n++,s=a.src;break;case"block-end":n--,c=a.src,s!==""&&c!==""?r.push(s+t+c):t.trim()!==""&&r.push(t),s="",t="",c="";break}0>n&&(n=0)}),r}const V=h(P),U=new RegExp("</?("+d.join("|")+")[^>]*?>","ig"),W=function(e){return e=e.replace(/<header[^>]*? class\s*=\s*["']?aioseo-toc-header[^>]+>([\S\s]*?)<\/header>/gms,""),e=e.replace(/<span[^>]*? class\s*=\s*["']?aioseo-tooltip[^>]+>([\S\s]*?)<\/span>/gms,""),e=e.replace(U," "),e=e.replace(/(<([^>]+)>)/ig,""),e=S(e),e};export{S as a,$ as b,A as c,j as f,V as m,W as s};
