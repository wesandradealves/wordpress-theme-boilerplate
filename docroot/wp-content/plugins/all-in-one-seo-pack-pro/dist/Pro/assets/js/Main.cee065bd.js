import{G as x,D as ot,k as H,u as at}from"./links.4ebb20e1.js";import{a as B}from"./addons.ece7eb50.js";import{r as o,o as l,c as T,d as g,w as r,a as n,y as d,C as b,g as c,b as f,n as C,f as D,B as F,z as rt,F as lt,D as dt}from"./vue.runtime.esm-bundler.a2ae84e1.js";import{_ as $}from"./_plugin-vue_export-helper.d7c6d548.js";import{S as ut,d as pt,C as ct}from"./index.63c9ec9d.js";import{b as Y}from"./Caret.833cbb47.js";/* empty css                                            *//* empty css                                              */import"./default-i18n.cb62c1e5.js";import"./constants.3cff9bad.js";import{R as ht,a as gt}from"./RequiresUpdate.f87aa2e9.js";/* empty css                                              */import{C as mt}from"./Index.276c06e8.js";import{a as _t}from"./Header.55843ed4.js";import{n as j}from"./numbers.18b50505.js";import{C as V,W as M}from"./Table.0f38f24b.js";import{P as N}from"./PostTypes.9ab32454.js";import{D as G}from"./Date.0365e7f7.js";import{C as J}from"./Tooltip.f932ed03.js";import{L as q,a as kt,b as W,c as Q,d as X,e as Z,f as tt,S as st}from"./Index.45b4414f.js";import{a as O,S as K,b as E,c as U}from"./Affiliate.0dd91887.js";import{C as et}from"./Tabs.1abedd25.js";import{S as z}from"./Suggestion.c0978aa8.js";import{S as nt}from"./Refresh.6c1a0eff.js";import ft from"./Overview.313010af.js";import{J as bt}from"./JsonValues.870a4901.js";import{B as St}from"./Checkbox.349747c9.js";import{B as vt}from"./Textarea.e4bb74d5.js";import{C as yt}from"./Card.fb1280a3.js";import{C as Pt}from"./ExcludePosts.f2b364ad.js";import{B as wt}from"./HighlightToggle.8b034f4a.js";import{G as It,a as At}from"./Row.eead99c7.js";import{C as Tt}from"./PostTypeOptions.fb6c3953.js";import{C as Rt}from"./SettingsRow.7db26b8a.js";import"./isArrayLikeObject.86aee886.js";import"./upperFirst.feef3474.js";import"./_stringToArray.4de3b1f3.js";import"./toString.0b0abfad.js";import"./RequiresUpdate.34b173a7.js";import"./license.f68289d9.js";import"./allowed.e7d024f1.js";import"./deburr.a5d10bf3.js";/* empty css             */import"./params.f0608262.js";import"./Ellipse.af318a8d.js";import"./LicenseKeyBar.0de9e929.js";import"./LogoGear.486c3049.js";import"./Logo.13a17fb4.js";import"./Support.853cfed5.js";import"./Exclamation.b5609fd8.js";import"./Url.48ac7d42.js";import"./Gear.4a41a4ff.js";import"./Slide.b264e916.js";import"./ScrollAndHighlight.e31477b3.js";import"./AnimatedNumber.a6ac6a53.js";import"./Index.7805c951.js";import"./Editor.e50d1a83.js";import"./tags.e7f6eb6d.js";import"./Plus.cf4682aa.js";import"./TruSeoScore.5da2419b.js";import"./Information.4f2d4b14.js";import"./AddonConditions.422a2842.js";import"./Index.a392ec8a.js";import"./Blur.718f6c18.js";import"./DonutChartWithLegend.65519d87.js";import"./SeoSiteScore.8eda55b0.js";import"./Row.e78ba300.js";import"./RequiredPlans.220e2dcf.js";import"./Checkmark.f214118b.js";import"./AddPlus.c4e409c7.js";import"./External.a8a08ac9.js";import"./Radio.4c8191fb.js";const xt={setup(){return{linkAssistantStore:x()}},emits:["updated"],components:{CoreTooltip:J,CoreWpTable:V,LinkAssistantConfirmationModal:q,LinkAssistantEditablePhrase:kt,SvgTrash:ut},mixins:[N,M,G],props:{domain:{type:String,required:!0},rows:{type:Array,required:!0},activeDomain:{type:Number}},data(){return{tableIdPrefix:"aioseo-domains-report-inner-",resultsPerPage:5,wpTableKey:0,activePost:-1,showModal:!1,action:"",selectedRows:null,bulkOptions:[{label:this.$t.__("Delete",this.$tdPro),value:"delete"}],strings:{delete:this.$t.__("Delete",this.$tdPro)},modalStrings:{areYouSureSingle:this.$t.__("Are you sure you want to delete these links for this domain?",this.$tdPro),areYouSureMultiple:this.$t.__("Are you sure you want to delete these links for this domain?",this.$tdPro),areYouSureAll:this.$t.__("Are you sure you want to delete all links for this domain?",this.$tdPro),actionCannotBeUndone:this.$t.__("This action cannot be undone.",this.$tdPro),yesSingle:this.$t.__("Yes, I want to delete these links",this.$tdPro),yesMultiple:this.$t.__("Yes, I want to delete these links",this.$tdPro),yesAll:this.$t.__("Yes, I want to delete all links",this.$tdPro),noChangedMind:this.$t.__("No, I changed my mind",this.$tdPro)}}},computed:{tableId(){return this.tableIdPrefix+ot.now().toFormat("x")},columns(){return[{slug:"post_title",label:this.$t.__("Post Title",this.$tdPro)},{slug:"phrases",label:this.$t.__("Phrases with Links",this.$tdPro)},{slug:"publish_date",label:this.$t.__("Publish Date",this.$tdPro),width:"160px"},{slug:"delete",width:"50px"}]},shouldShowPagination(){return 1<this.rows[0].totals.pages},initialPageNumber(){if(this.linkAssistantStore.domainsReport.innerPagination===void 0||this.linkAssistantStore.domainsReport.innerPagination[this.domain]===void 0)return 1;const t=this.linkAssistantStore.domainsReport.innerPagination[this.domain];return t||1}},methods:{fetchData(t){return this.linkAssistantStore.setDomainsReportInnerPaginatedPage({domain:this.domain,page:this.pageNumber}),this.linkAssistantStore.fetchDomainsReportInner({...t,additionalFilters:{domainIndex:this.activeDomain,domain:this.domain}}).finally(()=>{this.wpTableKey++,this.$emit("updated")})},toggleShowMorePhrases(t){if(this.activePost===t){this.activePost=-1;return}this.activePost=t},deleteLink({postIndex:t,linkIndex:e}){this.wpTableLoading=!0,this.linkAssistantStore.domainsReportInnerLinkDelete({searchTerm:this.searchTerm,rows:this.rows,postIndex:t,linkIndex:e,offset:this.pageNumber===1?0:(this.pageNumber-1)*this.resultsPerPage}).finally(()=>{this.refreshTable().then(()=>{this.$emit("updated"),this.wpTableLoading=!1})})},saveModifiedPhrase(t){if(!this.linkAssistantStore.domainsReport.rows[this.activeDomain])return;const e=Object.keys(this.linkAssistantStore.domainsReport.rows[this.activeDomain])[0];!e||!this.linkAssistantStore.domainsReport.rows[this.activeDomain][e][t.postIndex]||!this.linkAssistantStore.domainsReport.rows[this.activeDomain][e][t.postIndex].links[t.phraseIndex]||this.linkAssistantStore.domainsReport.rows[this.activeDomain][e][t.postIndex].links[t.phraseIndex].phrase_html!==t.phraseHtml&&(this.linkAssistantStore.domainsReport.rows[this.activeDomain][e][t.postIndex].links[t.phraseIndex].phrase=t.phrase,this.linkAssistantStore.domainsReport.rows[this.activeDomain][e][t.postIndex].links[t.phraseIndex].phrase_html=t.phraseHtml,this.linkAssistantStore.domainsReport.rows[this.activeDomain][e][t.postIndex].links[t.phraseIndex].anchor=t.anchor,this.wpTableLoading=!0,this.linkAssistantStore.domainsReportInnerLinkUpdate({domain:e,link:this.linkAssistantStore.domainsReport.rows[this.activeDomain][e][t.postIndex].links[t.phraseIndex]}).then(this.refreshTable).then(()=>{this.wpTableKey++,this.$emit("updated")}).finally(()=>{this.wpTableLoading=!1}))},maybeDoBulkAction({action:t,selectedRows:e}){!t||!e.length||(this.action=t,this.selectedRows=e,this.showModal=!0)},doBulkAction(){if(this.showModal=!1,this.action==="delete")return this.wpTableLoading=!0,this.linkAssistantStore.domainsReportInnerBulk({searchTerm:this.searchTerm,action:this.action,domainIndex:this.activeDomain,linkIndexes:this.selectedRows,offset:this.pageNumber===1?0:(this.pageNumber-1)*this.resultsPerPage}).finally(()=>{this.refreshTable().then(()=>{this.$emit("updated"),this.wpTableLoading=!1})})}},created(){this.pageNumber=this.initialPageNumber}},$t={class:"domains-report-inner"},Lt=["href"],Ct={class:"row-actions"},Dt={class:"view"},Mt=["href"],Bt={class:"edit"},Ot=["href"],Ft={class:"date"};function Vt(t,e,u,a,s,i){const y=o("link-assistant-editable-phrase"),I=o("svg-trash"),S=o("core-tooltip"),A=o("core-wp-table"),v=o("link-assistant-confirmation-modal");return l(),T("div",$t,[(l(),g(A,{class:"link-assistant-inner-table","bulk-options":s.bulkOptions,columns:i.columns,id:i.tableId,"initial-page-number":t.pageNumber,key:s.wpTableKey,loading:t.wpTableLoading,rows:u.rows,"show-pagination":i.shouldShowPagination,"show-search":!1,"show-table-footer":!1,totals:u.rows[0].totals,onPaginate:t.processPagination,onProcessBulkAction:i.maybeDoBulkAction},{post_title:r(({row:m})=>[n("strong",null,[n("a",{class:"edit-link",href:m.context.permalink,target:"_blank"},d(m.context.postTitle),9,Lt)]),n("div",Ct,[n("span",Dt,[n("a",{href:m.context.permalink,target:"_blank"},d(t.viewPost(m.context.postType.singular)),9,Mt),b(" | ")]),n("span",Bt,[n("a",{href:m.context.editLink,target:"_blank"},d(t.editPost(m.context.postType.singular)),9,Ot)])])]),phrases:r(({row:m,index:h})=>[c(y,{row:m,rowIndex:h,activeRow:s.activePost,domainsReport:"",onDelete:i.deleteLink,onToggleShowMorePhrases:i.toggleShowMorePhrases,onSaveModifiedPhrase:i.saveModifiedPhrase},null,8,["row","rowIndex","activeRow","onDelete","onToggleShowMorePhrases","onSaveModifiedPhrase"])]),publish_date:r(({row:m})=>[n("span",Ft,d(t.dateSqlToLocal(m.context.publishDate,"MMMM d, yyyy")),1)]),delete:r(({index:m})=>[c(S,{type:"action"},{tooltip:r(()=>[b(d(s.strings.delete),1)]),default:r(()=>[c(I,{onClick:h=>i.maybeDoBulkAction({action:"delete",selectedRows:[m]})},null,8,["onClick"])]),_:2},1024)]),_:1},8,["bulk-options","columns","id","initial-page-number","loading","rows","show-pagination","totals","onPaginate","onProcessBulkAction"])),s.showModal?(l(),g(v,{key:0,strings:s.modalStrings,selectedRows:s.selectedRows,onDoBulkAction:i.doBulkAction,onCloseModal:e[0]||(e[0]=m=>s.showModal=!1)},null,8,["strings","selectedRows","onDoBulkAction"])):f("",!0)])}const Nt=$(xt,[["render",Vt]]);const qt={setup(){const t=x();return{linkAssistantStore:t,settingsStore:H(),fetchData:t.fetchDomainsReport}},mixins:[M],components:{CoreWpTable:V,DomainsReportInner:Nt,LinkAssistantConfirmationModal:q,SvgCaret:Y,SvgFile:pt,SvgLinkExternal:O},beforeMount(){this.$route.query&&(this.$route.query.hostname&&(this.searchTerm=this.$route.query.hostname,this.processSearch(this.$route.query.hostname)),this.$route.query.fullReport&&(this.searchTerm="",this.processPagination(1)))},data(){return{numbers:j,tableId:"aioseo-link-assistant-domains-report-wp-table",changeItemsPerPageSlug:"linkAssistantDomainsReport",innerTableKey:0,activeRow:-1,showModal:!1,selectedRows:null,action:null,bulkOptions:[{label:this.$t.__("Delete",this.$tdPro),value:"delete"}],strings:{view:this.$t.__("View",this.$tdPro),deleteAllLinks:this.$t.__("Delete All Links",this.$tdPro)},modalStrings:{areYouSureSingle:this.$t.__("Are you sure you want to delete all links for this domain?",this.$tdPro),areYouSureMultiple:this.$t.__("Are you sure you want to delete all links for these domains?",this.$tdPro),areYouSureAll:this.$t.__("Are you sure you want to delete all links for all domains?",this.$tdPro),actionCannotBeUndone:this.$t.__("This action cannot be undone.",this.$tdPro),yesSingle:this.$t.__("Yes, I want to delete this link",this.$tdPro),yesMultiple:this.$t.__("Yes, I want to delete these links",this.$tdPro),yesAll:this.$t.__("Yes, I want to delete all links",this.$tdPro),noChangedMind:this.$t.__("No, I changed my mind",this.$tdPro)}}},computed:{columns(){return[{slug:"domain",label:this.$t.__("Domain",this.$tdPro)},{slug:"posts",label:this.$t.__("Posts",this.$tdPro),width:"90px"},{slug:"links",label:this.$t.__("Links",this.$tdPro),width:"90px"},{slug:"toggle-button",label:"",width:"60px"}]}},methods:{postCount(t){const e=Object.keys(t)[0];return t[e][0].totals.total},linkCount(t){const e=Object.keys(t)[0];return t[e][0].totals.totalLinks},isRowActive(t){return t===this.activeRow},toggleRow(t){if(this.activeRow===t){this.activeRow=-1;return}this.activeRow=t},maybeDoBulkAction({action:t,selectedRows:e}){e===!1||!t||(this.action=t,this.selectedRows=e,this.showModal=!0)},doBulkAction(){return this.showModal=!1,this.wpTableLoading=!0,this.linkAssistantStore.domainsReportBulk({action:this.action,searchTerm:this.searchTerm,rowIndexes:this.selectedRows}).then(this.processFetchTableData).finally(()=>{this.activeRow=-1,this.wpTableLoading=!1,this.wpTableKey++})},getInnerDomain(t){return Object.keys(t)[0]},getInnerDomainRows(t){return t[this.getInnerDomain(t)]}}},Kt={class:"aioseo-link-assistant-domains-report"},Et={class:"domain-name"},Ut=["onClick"],zt=["src"],Ht={class:"row-actions"},Yt=["href"],jt=["onClick"],Gt=["onClick"];function Jt(t,e,u,a,s,i){const y=o("svg-file"),I=o("svg-link-external"),S=o("svg-caret"),A=o("domains-report-inner"),v=o("core-wp-table"),m=o("link-assistant-confirmation-modal");return l(),T("div",Kt,[(l(),g(v,{ref:"table","bulk-options":s.bulkOptions,columns:i.columns,id:s.tableId,"initial-items-per-page":a.settingsStore.settings.tablePagination.linkAssistantDomainsReport,"initial-page-number":t.pageNumber,"initial-search-term":t.searchTerm,key:t.wpTableKey,loading:t.wpTableLoading,rows:a.linkAssistantStore.domainsReport.rows,totals:a.linkAssistantStore.domainsReport.totals,"show-items-per-page":"",onPaginate:t.processPagination,onProcessBulkAction:i.maybeDoBulkAction,onProcessChangeItemsPerPage:t.processChangeItemsPerPage,onSearch:t.processSearch,onSortColumn:t.processSort},{domain:r(({row:h,index:P,editRow:p})=>[n("div",Et,[n("a",{href:"#",class:C({active:i.isRowActive(P)}),onClick:D(w=>{p(P),i.toggleRow(P)},["prevent"])},[n("img",{alt:"Domain Favicon",class:"favicon",src:`https://www.google.com/s2/favicons?sz=32&domain=${Object.keys(h)[0]}`},null,8,zt),n("span",null,d(Object.keys(h)[0]),1)],10,Ut)]),n("div",Ht,[n("span",null,[n("a",{class:"view",href:"https://"+Object.keys(h)[0],target:"_blank"},[n("span",null,d(s.strings.view),1)],8,Yt),b(" | ")]),n("span",null,[n("a",{class:"delete-all-links",href:"#",onClick:D(w=>i.maybeDoBulkAction({action:"delete",selectedRows:P}),["prevent"])},[n("span",null,d(s.strings.deleteAllLinks),1)],8,jt)])])]),posts:r(({row:h})=>[n("div",null,[c(y),n("span",null,d(s.numbers.numberFormat(i.postCount(h))),1)])]),links:r(({row:h})=>[n("div",null,[c(I),n("span",null,d(s.numbers.numberFormat(i.linkCount(h))),1)])]),"toggle-button":r(({index:h,editRow:P})=>[n("button",{class:C(["toggle-row-button",{active:i.isRowActive(h)}]),onClick:p=>{P(h),i.toggleRow(h)}},[c(S)],10,Gt)]),"edit-row":r(({row:h})=>[(l(),g(A,{key:s.innerTableKey,domain:i.getInnerDomain(h),rows:i.getInnerDomainRows(h),activeDomain:s.activeRow,onUpdated:e[0]||(e[0]=P=>s.innerTableKey++)},null,8,["domain","rows","activeDomain"]))]),_:1},8,["bulk-options","columns","id","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),s.showModal?(l(),g(m,{key:0,strings:s.modalStrings,selectedRows:s.selectedRows,onDoBulkAction:i.doBulkAction,onCloseModal:e[1]||(e[1]=h=>s.showModal=!1)},null,8,["strings","selectedRows","onDoBulkAction"])):f("",!0)])}const Wt=$(qt,[["render",Jt]]),it={emits:["updatingLinks"],computed:{isPrioritizedPost(){let e=x().linksReport.prioritizedPosts;return Array.isArray(e)&&(e=e.map(Number)),e.includes(parseInt(this.post.ID))}},methods:{doRefresh(){this.refreshLoading=!0,window.aioseoBus.$emit("updatingLinks",!0),x().linksRefresh({postIndex:this.postIndex,postId:this.post.ID,linksReport:!0}).finally(()=>{this.refreshLoading=!1,window.aioseoBus.$emit("updatingLinks",!1),this.refreshTable()})}}};const Qt={setup(){return{linkAssistantStore:x()}},emits:["updatingLinks"],components:{CoreMainTabs:et,LinkAssistantAffiliate:W,LinkAssistantExternal:Q,LinkAssistantInboundInternal:X,LinkAssistantOutboundInternal:Z,LinkAssistantSuggestions:tt,SvgLinkAffiliate:K,SvgLinkExternal:O,SvgLinkInternalInbound:E,SvgLinkInternalOutbound:U,SvgLinkSuggestion:z,SvgRefresh:nt},mixins:[st,it,M],props:{post:{type:Object,required:!0},postIndex:{type:Number,required:!0},postId:{type:Number,required:!0},initialActiveTab:String},data(){return{tabsKey:0,activeTab:"inbound-internal",activeSuggestionTab:"suggestions-inbound",refreshLoading:!1,strings:{refresh:this.$t.__("Refresh",this.$tdPro)}}},computed:{tabs(){return[{slug:"inbound-internal",icon:"svg-link-internal-inbound",name:this.$t.sprintf("%1$s %2$s",this.linkAssistantStore.linksReport.counts[this.postIndex].inboundInternal,this.$t.__("Inbound Internal",this.$tdPro))},{slug:"outbound-internal",icon:"svg-link-internal-outbound",name:this.$t.sprintf("%1$s %2$s",this.linkAssistantStore.linksReport.counts[this.postIndex].outboundInternal,this.$t.__("Outbound Internal",this.$tdPro))},{slug:"affiliate",icon:"svg-link-affiliate",name:this.$t.sprintf("%1$s %2$s",this.linkAssistantStore.linksReport.counts[this.postIndex].affiliate,this.$t.__("Affiliate",this.$tdPro))},{slug:"external",icon:"svg-link-external",name:this.$t.sprintf("%1$s %2$s",this.linkAssistantStore.linksReport.counts[this.postIndex].external,this.$t.__("External",this.$tdPro))},{slug:"link-suggestions",icon:"svg-link-suggestion",name:this.$t.sprintf("%1$s %2$s",this.linkAssistantStore.linksReport.counts[this.postIndex].suggestionsOutbound+this.linkAssistantStore.linksReport.counts[this.postIndex].suggestionsInbound,this.$t.__("Link Suggestions",this.$tdPro))}]}},methods:{fetchData(t){window.aioseoBus.$emit("updatingLinks",!0);const e={...t,additionalFilters:{postId:this.post.ID,postIndex:this.postIndex,type:this.suggestionType}};return this.linkAssistantStore.fetchLinksReportInner(e).finally(()=>{window.aioseoBus.$emit("updatingLinks",!1)})},processChangeTab(t,e){this.activeTab=t,e&&(this.activeSuggestionTab=e)}},mounted(){this.initialActiveTab&&this.$nextTick(()=>{this.processChangeTab(this.initialActiveTab)})}},Xt={class:"links-report-inner"};function Zt(t,e,u,a,s,i){const y=o("svg-refresh"),I=o("base-button"),S=o("core-main-tabs"),A=o("link-assistant-outbound-internal"),v=o("link-assistant-inbound-internal"),m=o("link-assistant-affiliate"),h=o("link-assistant-external"),P=o("link-assistant-suggestions");return l(),T("div",Xt,[(l(),g(S,{class:"link-tabs",internal:"",key:s.tabsKey,tabs:i.tabs,active:s.activeTab,onChanged:e[0]||(e[0]=p=>i.processChangeTab(p))},{"var-tab-icon":r(({tab:p})=>[(l(),g(F(p.icon),{class:C([{warning:p.warning}])},null,8,["class"]))]),button:r(()=>[c(I,{class:"button-refresh",type:"gray",size:"medium",loading:s.refreshLoading,disabled:t.isPrioritizedPost,onClick:t.doRefresh},{default:r(()=>[c(y),b(" "+d(s.strings.refresh),1)]),_:1},8,["loading","disabled","onClick"])]),_:1},8,["tabs","active"])),s.activeTab==="outbound-internal"?(l(),g(A,{key:0,post:u.post,postIndex:u.postIndex,postId:u.postId,linksReport:"",onOpenSuggestions:e[1]||(e[1]=p=>i.processChangeTab("link-suggestions","suggestions-outbound")),onLinksUpdated:e[2]||(e[2]=p=>s.tabsKey++)},null,8,["post","postIndex","postId"])):f("",!0),s.activeTab==="inbound-internal"?(l(),g(v,{key:1,post:u.post,postIndex:u.postIndex,postId:u.postId,linksReport:"",onOpenSuggestions:e[3]||(e[3]=p=>i.processChangeTab("link-suggestions","suggestions-inbound")),onLinksUpdated:e[4]||(e[4]=p=>s.tabsKey++)},null,8,["post","postIndex","postId"])):f("",!0),s.activeTab==="affiliate"?(l(),g(m,{key:2,post:u.post,postIndex:u.postIndex,postId:u.postId,onLinksUpdated:e[5]||(e[5]=p=>s.tabsKey++),linksReport:""},null,8,["post","postIndex","postId"])):f("",!0),s.activeTab==="external"?(l(),g(h,{key:3,post:u.post,postIndex:u.postIndex,postId:u.postId,onLinksUpdated:e[6]||(e[6]=p=>s.tabsKey++),linksReport:""},null,8,["post","postIndex","postId"])):f("",!0),s.activeTab==="link-suggestions"?(l(),g(P,{key:4,post:u.post,postIndex:u.postIndex,postId:u.postId,filteredSuggestionsOutbound:t.filteredSuggestionsOutbound(u.post),initialTab:s.activeSuggestionTab,linksReport:"",onShowStandalone:e[7]||(e[7]=p=>t.showStandalone=!0),onSuggestionsTabChanged:e[8]||(e[8]=p=>s.activeSuggestionTab=p),onLinksUpdated:e[9]||(e[9]=p=>s.tabsKey++)},null,8,["post","postIndex","postId","filteredSuggestionsOutbound","initialTab"])):f("",!0)])}const ts=$(Qt,[["render",Zt]]);const ss={setup(){const t=x(),e=H();return{linkAssistantStore:t,settingsStore:e,fetchData:t.fetchLinksReport}},mixins:[N,M,G],components:{CoreTooltip:J,CoreWpTable:V,LinkAssistantConfirmationModal:q,LinksReportInner:ts,SvgCaret:Y,SvgLinkAffiliate:K,SvgLinkExternal:O,SvgLinkInternalInbound:E,SvgLinkInternalOutbound:U,SvgLinkSuggestion:z},data(){return{numbers:j,tableId:"aioseo-link-assistant-links-report-wp-table",changeItemsPerPageSlug:"linkAssistantLinksReport",initialActiveTab:"inbound-internal",innerTableKey:0,activeRow:-1,showModal:!1,selectedRows:null,bulkAction:null,selectedFilters:{},additionalFilters:null,strings:{deleteAllLinks:this.$t.__("Delete All Links",this.$tdPro),inboundInternal:this.$t.sprintf(this.$t.__("%1$sInbound Internal Links%2$sLinks from other posts to this post",this.$tdPro),"<strong>","</strong><br />"),outboundInternal:this.$t.sprintf(this.$t.__("%1$sOutbound Internal Links%2$sLinks from this post to other posts",this.$tdPro),"<strong>","</strong><br />")},modalStrings:{areYouSureSingle:this.$t.__("Are you sure you want to delete all links for this post?",this.$tdPro),actionCannotBeUndone:this.$t.__("This action cannot be undone.",this.$tdPro),yesSingle:this.$t.__("Yes, I want to delete all links",this.$tdPro),noChangedMind:this.$t.__("No, I changed my mind",this.$tdPro)}}},computed:{columns(){return[{slug:"post_title",label:this.$t.__("Post Title",this.$tdPro),width:"100%"},{slug:"publish_date",label:this.$t.__("Publish Date",this.$tdPro),width:"170px"},{slug:"internal",label:this.$t.__("Internal",this.$tdPro),width:"150px"},{slug:"affiliate",label:this.$t.__("Affiliate",this.$tdPro),width:"90px"},{slug:"external",label:this.$t.__("External",this.$tdPro),width:"90px"},{slug:"suggestions",label:this.$t.__("Suggestions",this.$tdPro),width:"110px"},{slug:"toggle-button",label:"",width:"60px"}]}},methods:{getPostId(t){return parseInt(t)},isRowActive(t){return t===this.activeRow},maybeEditRow(t,e,u,a){if(!u){this.initialActiveTab=t,e(a),this.toggleRow(a);return}if(this.initialActiveTab===t){e(a),this.toggleRow(a);return}this.initialActiveTab=t,this.innerTableKey++},toggleRow(t){if(this.activeRow===t){this.activeRow=-1;return}this.activeRow=t},maybeDeleteAllLinks(t){t!==!1&&(this.selectedRows=t,this.showModal=!0)},deleteAllLinks(){this.showModal=!1;const t=this.linkAssistantStore.linksReport.rows[this.selectedRows].ID;if(t)return this.wpTableLoading=!0,this.linkAssistantStore.linksReportDeleteAll({postId:t}).finally(()=>{this.activeRow=-1,this.wpTableKey++,this.refreshTable()})},processAdditionaFilterOptionSelected({name:t,selectedValue:e}){t==="post-type"&&(this.selectedFilters["post-type"]=e,this.selectedFilters.term="all"),this.additionalFilters=this.linkAssistantStore.linksReport.additionalFilters.filter(u=>u.name==="post-type"||u.dependsOn&&this.selectedFilters["post-type"]===u.dependsOn.value)},resetSelectedFilters(){this.selectedFilters.term="all",this.selectedFilters["post-type"]="",this.processAdditionaFilterOptionSelected({name:"post-type",selectedValue:""})}},beforeMount(){this.additionalFilters=this.linkAssistantStore.linksReport.additionalFilters.filter(t=>t.name==="post-type"||t.dependsOn&&this.selectedFilters["post-type"]===t.dependsOn.value),this.$route.query&&(Object.entries(this.$route.query).forEach(t=>{switch(t[0]){case"fullReport":this.processFilterTable({slug:"all"});break;case"postTitle":this.searchTerm=this.$route.query.postTitle,this.processSearch();break;case"linkingOpportunities":this.processFilterTable({slug:"linking-opportunities"});break;case"orphaned-posts":this.processFilterTable({slug:"orphaned-posts"});break}}),this.linkAssistantStore.setLinksReportCounts())}},es={class:"aioseo-link-assistant-links-report"},ns={class:"post-title"},is=["onClick"],os={class:"row-actions"},as=["href"],rs=["href"],ls=["onClick"],ds={class:"date"},us={class:"internal-links-count"},ps=["onClick"],cs={class:"aioseo-tooltip-wrapper"},hs=["innerHTML"],gs=["onClick"],ms={class:"aioseo-tooltip-wrapper"},_s=["innerHTML"],ks=["onClick"],fs=["onClick"],bs=["onClick"],Ss=["onClick"];function vs(t,e,u,a,s,i){const y=o("svg-link-internal-inbound"),I=o("core-tooltip"),S=o("svg-link-internal-outbound"),A=o("svg-link-suggestion"),v=o("svg-link-affiliate"),m=o("svg-link-external"),h=o("svg-caret"),P=o("LinksReportInner"),p=o("core-wp-table"),w=o("link-assistant-confirmation-modal");return l(),T("div",es,[(l(),g(p,{ref:"table",class:"posts-table",id:s.tableId,"additional-filters":s.additionalFilters,columns:i.columns,filters:a.linkAssistantStore.linksReport.filters,"initial-items-per-page":a.settingsStore.settings.tablePagination.linkAssistantLinksReport,"initial-page-number":t.pageNumber,"initial-search-term":t.searchTerm,key:t.wpTableKey,loading:t.wpTableLoading,rows:a.linkAssistantStore.linksReport.rows,"selected-filters":s.selectedFilters,"show-bulk-actions":!1,totals:a.linkAssistantStore.linksReport.totals,"show-items-per-page":"",onAdditionalFilterOptionSelected:i.processAdditionaFilterOptionSelected,onFilterTable:t.processFilterTable,onPaginate:t.processPagination,onProcessAdditionalFilters:t.processAdditionalFilters,onProcessChangeItemsPerPage:t.processChangeItemsPerPage,onSearch:t.processSearch,onSortColumn:t.processSort},{post_title:r(({row:_,index:k,editRow:R})=>[n("div",ns,[n("a",{href:"#",class:C({active:i.isRowActive(k)}),onClick:D(L=>{R(k),i.toggleRow(k)},["prevent"])},d(_.post_title),11,is)]),n("div",os,[n("span",null,[n("a",{class:"view",href:_.context.permalink,target:"_blank"},[n("span",null,d(t.viewPost(_.context.postType.singular)),1)],8,as),b(" | ")]),n("span",null,[n("a",{class:"edit",href:_.context.editLink,target:"_blank"},[n("span",null,d(t.editPost(_.context.postType.singular)),1)],8,rs),b(" | ")]),n("span",null,[n("a",{class:"delete-all-links",href:"#",onClick:D(L=>i.maybeDeleteAllLinks(k),["prevent"])},[n("span",null,d(s.strings.deleteAllLinks),1)],8,ls)])])]),publish_date:r(({row:_})=>[n("span",ds,d(t.dateSqlToLocal(_.post_date,"MMMM d, yyyy")),1)]),internal:r(({editRow:_,index:k,editRowActive:R})=>[n("div",us,[n("div",{onClick:L=>i.maybeEditRow("inbound-internal",_,R,k)},[n("div",cs,[c(I,{class:"action"},{tooltip:r(()=>[n("span",{innerHTML:s.strings.inboundInternal},null,8,hs)]),default:r(()=>[c(y),n("span",null,d(s.numbers.numberFormat(a.linkAssistantStore.linksReport.counts[k].inboundInternal)),1)]),_:2},1024)])],8,ps),n("div",{onClick:L=>i.maybeEditRow("outbound-internal",_,R,k)},[n("div",ms,[c(I,{class:"action"},{tooltip:r(()=>[n("span",{innerHTML:s.strings.outboundInternal},null,8,_s)]),default:r(()=>[c(S),n("span",null,d(s.numbers.numberFormat(a.linkAssistantStore.linksReport.counts[k].outboundInternal)),1)]),_:2},1024)])],8,gs)])]),suggestions:r(({editRow:_,index:k,editRowActive:R})=>[n("div",{onClick:L=>i.maybeEditRow("link-suggestions",_,R,k)},[c(A),b(" "+d(s.numbers.numberFormat(a.linkAssistantStore.linksReport.counts[k].suggestionsInbound+a.linkAssistantStore.linksReport.counts[k].suggestionsOutbound)),1)],8,ks)]),affiliate:r(({editRow:_,index:k,editRowActive:R})=>[n("div",{onClick:L=>i.maybeEditRow("affiliate",_,R,k)},[c(v),b(" "+d(s.numbers.numberFormat(a.linkAssistantStore.linksReport.counts[k].affiliate)),1)],8,fs)]),external:r(({editRow:_,index:k,editRowActive:R})=>[n("div",{onClick:L=>i.maybeEditRow("external",_,R,k)},[c(m),b(" "+d(s.numbers.numberFormat(a.linkAssistantStore.linksReport.counts[k].external)),1)],8,bs)]),"toggle-button":r(({index:_,editRow:k})=>[n("button",{class:C(["toggle-row-button",{active:i.isRowActive(_)}]),onClick:R=>{k(_),i.toggleRow(_)}},[c(h)],10,Ss)]),"edit-row":r(({row:_,index:k})=>[(l(),g(P,{key:s.innerTableKey,post:_,postIndex:k,postId:i.getPostId(_.ID),initialActiveTab:s.initialActiveTab},null,8,["post","postIndex","postId","initialActiveTab"]))]),_:1},8,["id","additional-filters","columns","filters","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","selected-filters","totals","onAdditionalFilterOptionSelected","onFilterTable","onPaginate","onProcessAdditionalFilters","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),s.showModal?(l(),g(w,{key:0,selectedRows:s.selectedRows,strings:s.modalStrings,onDoBulkAction:i.deleteAllLinks,onCloseModal:e[0]||(e[0]=_=>s.showModal=!1)},null,8,["selectedRows","strings","onDoBulkAction"])):f("",!0)])}const ys=$(ss,[["render",vs]]);const Ps={setup(){const t=x();return{linkAssistantStore:t,fetchData:t.fetchPostReport}},emits:["updatingLinks"],components:{CoreMainTabs:et,LinkAssistantAffiliate:W,LinkAssistantExternal:Q,LinkAssistantInboundInternal:X,LinkAssistantOutboundInternal:Z,LinkAssistantSuggestions:tt,SvgLinkAffiliate:K,SvgLinkExternal:O,SvgLinkInternalInbound:E,SvgLinkInternalOutbound:U,SvgLinkSuggestion:z,SvgRefresh:nt},mixins:[N,st,it,M],data(){return{changeItemsPerPageSlug:"linkAssistantPostsReport",postId:null,postIndex:0,post:{},activeTab:"inbound-internal",activeSuggestionTab:"suggestions-inbound",refreshLoading:!1,loadTime:4,showLoadingBar:!1,loadingInitialData:!1,strings:{backToLinksReport:this.$t.__("Back to Links Report",this.$tdPro),loadingHeader:this.$t.__("Loading Link Suggestions. Please wait...",this.$tdPro),refresh:this.$t.__("Refresh",this.$tdPro)}}},computed:{getPost(){return{...this.post,links:this.linkAssistantStore.postReport}},header(){return this.$t.sprintf(this.$t.__('Internal Links & Suggestions for "%1$s"',this.$tdPro),this.post.context.postTitle)},tabs(){return[{slug:"inbound-internal",icon:"svg-link-internal-inbound",name:this.$t.sprintf("%1$s %2$s",this.post.links.inboundInternal.totals.total,this.$t.__("Inbound Internal",this.$tdPro))},{slug:"outbound-internal",icon:"svg-link-internal-outbound",name:this.$t.sprintf("%1$s %2$s",this.post.links.outboundInternal.totals.total,this.$t.__("Outbound Internal",this.$tdPro))},{slug:"affiliate",icon:"svg-link-affiliate",name:this.$t.sprintf("%1$s %2$s",this.post.links.affiliate.totals.total,this.$t.__("Affiliate",this.$tdPro))},{slug:"external",icon:"svg-link-external",name:this.$t.sprintf("%1$s %2$s",this.post.links.external.totals.total,this.$t.__("External",this.$tdPro))},{slug:"link-suggestions",icon:"svg-link-suggestion",name:this.$t.sprintf("%1$s %2$s",this.post.links.suggestionsOutbound.totals.total+this.post.links.suggestionsInbound.totals.total,this.$t.__("Link Suggestions",this.$tdPro))}]}},methods:{closePostReport(){this.$router.push({name:"links-report"})},processChangeTab(t,e){this.activeTab=t,e&&(this.activeSuggestionTab=e)},doRefresh(){this.refreshLoading=!0,window.aioseoBus.$emit("updatingLinks",!0),this.linkAssistantStore.linksRefresh({postIndex:this.postIndex,postId:this.post.ID,postReport:!0}).finally(()=>{this.refreshLoading=!1,window.aioseoBus.$emit("updatingLinks",!1),this.refreshTable()})},checkProgress(){this.showLoadingBar=!1,this.loadingInitialData&&this.$nextTick(()=>{this.showLoadingBar=!0,2>this.loadTime&&(this.loadTime=4),this.loadTime=this.loadTime/2,setTimeout(this.checkProgress,this.loadTime*1e3)})}},beforeMount(){if(this.$route.query){if(!this.$route.query.postId){this.$router.push({name:"links-report"});return}this.postId=parseInt(this.$route.query.postId),this.postIndex=parseInt(this.$route.query.postIndex),this.activeTab=this.$route.query.initialTab,this.activeSuggestionTab=this.$route.query.initialSuggestionTab,this.post={ID:this.postId,context:{postType:{singular:null}},links:{...this.linkAssistantStore.postReport}}}},mounted(){this.linkAssistantStore.resetPostReportState(),window.aioseoBus.$emit("updatingLinks",!0),this.showLoadingBar=!0,this.loadingInitialData=!0,setTimeout(this.checkProgress,this.loadTime*1e3),this.filter="all",this.processFetchTableData({postId:this.postId}).then(t=>{t.body.links&&(this.post.links=t.body.links),t.body.context&&(this.post.context=t.body.context),this.linkAssistantStore.postReport={...t.body.links}}).catch(t=>{console.error(t),this.$router.push({name:"links-report"})}).finally(()=>{window.aioseoBus.$emit("updatingLinks",!1),this.showLoadingBar=!1,this.loadingInitialData=!1})}},ws={class:"aioseo-link-assistant-post-report"},Is={key:0,class:"header-container"},As={class:"first-row"},Ts={class:"second-row"},Rs={class:"first-column"},xs={class:"header"},$s={key:1,class:"load-progress"},Ls={key:2,class:"header-container"},Cs={class:"first-row"},Ds={class:"second-row"},Ms={class:"first-column"},Bs={class:"header"},Os={class:"actions"},Fs=["href"],Vs=["href"],Ns={class:"second-column"};function qs(t,e,u,a,s,i){const y=o("svg-refresh"),I=o("base-button"),S=o("core-main-tabs"),A=o("link-assistant-outbound-internal"),v=o("link-assistant-inbound-internal"),m=o("link-assistant-affiliate"),h=o("link-assistant-external"),P=o("link-assistant-suggestions");return l(),T("div",ws,[s.loadingInitialData?(l(),T("div",Is,[n("div",As,[n("a",{href:"#",onClick:e[0]||(e[0]=D((...p)=>i.closePostReport&&i.closePostReport(...p),["stop","prevent"]))},[b(" ← "),n("span",null,d(s.strings.backToLinksReport),1)])]),n("div",Ts,[n("div",Rs,[n("span",xs,d(s.strings.loadingHeader),1)])])])):f("",!0),s.showLoadingBar?(l(),T("div",$s,[n("div",{class:"load-progress-value",style:rt({animationDuration:s.loadTime+"s"})},null,4)])):f("",!0),s.loadingInitialData?f("",!0):(l(),T("div",Ls,[n("div",Cs,[n("a",{href:"#",onClick:e[1]||(e[1]=D((...p)=>i.closePostReport&&i.closePostReport(...p),["prevent"]))},[b(" ← "),n("span",null,d(s.strings.backToLinksReport),1)])]),n("div",Ds,[n("div",Ms,[n("span",Bs,d(i.header),1),n("div",Os,[n("a",{class:"view-post-link",href:s.post.context.permalink,target:"_blank"},d(t.viewPost(s.post.context.postType.singular)),9,Fs),b(" | "),n("a",{class:"edit-post-link",href:s.post.context.editLink,target:"_blank"},d(t.editPost(s.post.context.postType.singular)),9,Vs)])]),n("div",Ns,[c(I,{type:"blue",tag:"button",loading:s.refreshLoading,disabled:t.isPrioritizedPost,onClick:i.doRefresh},{default:r(()=>[c(y),b(" "+d(s.strings.refresh),1)]),_:1},8,["loading","disabled","onClick"])])])])),c(S,{class:"link-tabs",internal:"",tabs:i.tabs,active:s.activeTab,showSaveButton:!1,onChanged:e[2]||(e[2]=p=>i.processChangeTab(p))},{"var-tab-icon":r(({tab:p})=>[(l(),g(F(p.icon),{class:C([{warning:p.warning}])},null,8,["class"]))]),_:1},8,["tabs","active"]),s.activeTab==="outbound-internal"?(l(),g(A,{key:3,post:i.getPost,postIndex:s.postIndex,postId:s.postId,"post-report":"",onOpenSuggestions:e[3]||(e[3]=p=>i.processChangeTab("link-suggestions","suggestions-outbound"))},null,8,["post","postIndex","postId"])):f("",!0),s.activeTab==="inbound-internal"?(l(),g(v,{key:4,post:i.getPost,postIndex:s.postIndex,postId:s.postId,"post-report":"",onOpenSuggestions:e[4]||(e[4]=p=>i.processChangeTab("link-suggestions","suggestions-inbound"))},null,8,["post","postIndex","postId"])):f("",!0),s.activeTab==="affiliate"?(l(),g(m,{key:5,post:i.getPost,postIndex:s.postIndex,postId:s.postId,"post-report":""},null,8,["post","postIndex","postId"])):f("",!0),s.activeTab==="external"?(l(),g(h,{key:6,post:i.getPost,postIndex:s.postIndex,postId:s.postId,"post-report":""},null,8,["post","postIndex","postId"])):f("",!0),s.activeTab==="link-suggestions"?(l(),g(P,{key:7,post:i.getPost,postIndex:s.postIndex,postId:s.postId,filteredSuggestionsOutbound:t.filteredSuggestionsOutbound(s.post),initialTab:s.activeSuggestionTab,"post-report":"",onShowStandalone:e[5]||(e[5]=p=>t.showStandalone=!0),onSuggestionsTabChanged:e[6]||(e[6]=p=>s.activeSuggestionTab=p)},null,8,["post","postIndex","postId","filteredSuggestionsOutbound","initialTab"])):f("",!0)])}const Ks=$(Ps,[["render",qs]]);const Es={setup(){return{rootStore:at()}},components:{BaseHighlightToggle:wt,CoreAlert:ct,GridColumn:It,GridRow:At},props:{type:{type:String,required:!0},options:{type:Object,required:!0},registeredPostStatuses:Object,excluded:{type:Array,default(){return[]}}},data(){return{strings:{label:this.$t.__("Label:",this.$td),name:this.$t.__("Status:",this.$td),noPostStatuses:this.$t.__("No post statuses available.",this.$td),noTaxonomies:this.$t.__("No taxonomies available.",this.$td),noPostStatusesDescription:this.$t.__("All post statuses are set to noindex or your site does not have any post statuses registered that are supported by this feature.",this.$td),noTaxonomiesDescription:this.$t.__("All taxonomies are set to noindex or your site does not have any taxonomies registered that are supported by this feature.",this.$td)}}},computed:{getRegisteredPostStatuses(){return this.registeredPostStatuses||this.rootStore.aioseo.postData},postStatuses(){return this.getRegisteredPostStatuses[this.type].filter(t=>!this.excluded.includes(t.status))}},methods:{emitInput(t){this.$emit("input",t)},updateValue(t,e){if(t){const a=this.options[this.type].included;a.push(e.status),this.options[this.type].included=a;return}const u=this.options[this.type].included.findIndex(a=>a===e.status);u!==-1&&this.options[this.type].included.splice(u,1)},getValue(t){return this.options[this.type].included.includes(t.status)},isActive(t){return this.options[this.type].included.findIndex(u=>u===t.status)!==-1}}},Us={class:"aioseo-post-status-options-toggle"},zs={class:"post-status-options-settings"};function Hs(t,e,u,a,s,i){const y=o("core-alert"),I=o("base-highlight-toggle"),S=o("grid-column"),A=o("grid-row");return l(),T("div",Us,[n("div",zs,[i.postStatuses.length===0&&u.type==="postStatuses"?(l(),g(y,{key:0,type:"blue"},{default:r(()=>[n("strong",null,d(s.strings.noPostStatuses),1),b(" "+d(s.strings.noPostStatusesDescription),1)]),_:1})):f("",!0),i.postStatuses.length===0&&u.type==="taxonomies"?(l(),g(y,{key:1,type:"blue"},{default:r(()=>[n("strong",null,d(s.strings.noTaxonomies),1),b(" "+d(s.strings.noTaxonomiesDescription),1)]),_:1})):f("",!0),0<i.postStatuses.length?(l(),g(A,{key:2},{default:r(()=>[(l(!0),T(lt,null,dt(i.postStatuses,(v,m)=>(l(),g(S,{md:"6",key:m},{default:r(()=>[c(I,{size:"medium",active:i.isActive(v),name:v.label,type:"checkbox",modelValue:i.getValue(v),"onUpdate:modelValue":h=>i.updateValue(h,v)},{default:r(()=>[b(d(v.label)+" ("+d(v.status)+") ",1)]),_:2},1032,["active","name","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})):f("",!0)])])}const Ys=$(Es,[["render",Hs]]);const js={setup(){return{linkAssistantStore:x()}},components:{BaseCheckbox:St,BaseTextarea:vt,CoreCard:yt,CoreExcludePosts:Pt,CorePostStatusOptions:Ys,CorePostTypeOptions:Tt,CoreSettingsRow:Rt},mixins:[bt],data(){return{initialAffiliateLinkPrefixes:"",strings:{settings:this.$t.__("Link Settings",this.$tdPro),postTypes:this.$t.__("Post Types",this.$tdPro),includeAllPostTypes:this.$t.__("Include All Post Types",this.$tdPro),selectPostTypes:this.$t.__("Select which Post Types you want to enable Link Assistant for.",this.$tdPro),postStatuses:this.$t.__("Post Statuses",this.$tdPro),includeAllPostStatuses:this.$t.__("Include All Post Statuses",this.$tdPro),selectPostStatuses:this.$t.__("Select which Post Statuses you want to enable Link Assistant for.",this.$tdPro),skipSentences:this.$t.__("Number of Sentences to Skip at Beginning",this.$tdPro),skipSentencesDescription:this.$t.sprintf(this.$t.__("The amount of sentences at the beginning of the article that %1$s should not suggest internal links for.",this.$tdPro),"AIOSEO"),affiliatePrefix:this.$t.__("Affiliate Link Prefix",this.$tdPro),affiliatePrefixDescription:this.$t.sprintf(this.$t.__('Enter one or multiple link prefixes that %1$s should consider as affiliate links, e.g. "/go/", "/refer/" or "https://amazn.to".',this.$tdPro),"AIOSEO"),excludePostsPages:this.$t.__("Exclude Posts / Pages",this.$tdPro),wordsToIgnore:this.$t.__("Words to Ignore",this.$tdPro)}}},methods:{validateSkipSentences(t){0>t.target.value&&(t.target.value=0)}},beforeMount(){this.initialAffiliateLinkPrefixes=this.linkAssistantStore.options.main.affiliatePrefix,window.aioseoBus.$on("changes-saved",()=>{this.initialAffiliateLinkPrefixes=this.linkAssistantStore.options.main.affiliatePrefix})}},Gs={class:"aioseo-link-assistant-settings"},Js={class:"aioseo-description"},Ws=["innerHTML"],Qs={class:"aioseo-description"},Xs=["innerHTML"],Zs={class:"aioseo-description"},te={class:"aioseo-description"};function se(t,e,u,a,s,i){const y=o("base-checkbox"),I=o("core-post-type-options"),S=o("core-settings-row"),A=o("core-post-status-options"),v=o("base-input"),m=o("base-select"),h=o("core-exclude-posts"),P=o("base-textarea"),p=o("core-card");return l(),T("div",Gs,[c(p,{slug:"linkAssistantSettings","header-text":s.strings.settings},{default:r(()=>[c(S,{name:s.strings.postTypes},{content:r(()=>[c(y,{size:"medium",modelValue:a.linkAssistantStore.options.main.postTypes.all,"onUpdate:modelValue":e[0]||(e[0]=w=>a.linkAssistantStore.options.main.postTypes.all=w)},{default:r(()=>[b(d(s.strings.includeAllPostTypes),1)]),_:1},8,["modelValue"]),a.linkAssistantStore.options.main.postTypes.all?f("",!0):(l(),g(I,{key:0,id:"postTypes",options:a.linkAssistantStore.options.main,excluded:["attachment"],type:"postTypes"},null,8,["options"])),n("div",Js,[b(d(s.strings.selectPostTypes)+" ",1),n("span",{innerHTML:t.$links.getDocLink(t.$constants.GLOBAL_STRINGS.learnMore,"linkAssistantPostTypes",!0)},null,8,Ws)])]),_:1},8,["name"]),c(S,{name:s.strings.postStatuses},{content:r(()=>[c(y,{size:"medium",modelValue:a.linkAssistantStore.options.main.postStatuses.all,"onUpdate:modelValue":e[1]||(e[1]=w=>a.linkAssistantStore.options.main.postStatuses.all=w)},{default:r(()=>[b(d(s.strings.includeAllPostStatuses),1)]),_:1},8,["modelValue"]),a.linkAssistantStore.options.main.postStatuses.all?f("",!0):(l(),g(A,{key:0,id:"postStatuses",options:a.linkAssistantStore.options.main,type:"postStatuses"},null,8,["options"])),n("div",Qs,[b(d(s.strings.selectPostStatuses)+" ",1),n("span",{innerHTML:t.$links.getDocLink(t.$constants.GLOBAL_STRINGS.learnMore,"linkAssistantPostStatuses",!0)},null,8,Xs)])]),_:1},8,["name"]),c(S,{name:s.strings.skipSentences,align:""},{content:r(()=>[c(v,{modelValue:a.linkAssistantStore.options.main.skipSentences,"onUpdate:modelValue":e[2]||(e[2]=w=>a.linkAssistantStore.options.main.skipSentences=w),class:"settings-skip-sentences",type:"number",size:"medium",min:0,onKeyup:e[3]||(e[3]=w=>i.validateSkipSentences(w))},null,8,["modelValue"]),n("div",Zs,d(s.strings.skipSentencesDescription),1)]),_:1},8,["name"]),c(S,{class:"affiliate-prefix",name:s.strings.affiliatePrefix,align:""},{content:r(()=>[c(m,{multiple:"",taggable:"",options:t.getJsonValue(a.linkAssistantStore.options.main.affiliatePrefix)||[],modelValue:t.getJsonValue(a.linkAssistantStore.options.main.affiliatePrefix)||[],"onUpdate:modelValue":e[4]||(e[4]=w=>a.linkAssistantStore.options.main.affiliatePrefix=t.setJsonValue(w))},null,8,["options","modelValue"]),n("div",te,d(s.strings.affiliatePrefixDescription),1)]),_:1},8,["name"]),c(S,{name:s.strings.excludePostsPages,align:""},{content:r(()=>[c(h,{options:a.linkAssistantStore.options.main,type:"posts"},null,8,["options"])]),_:1},8,["name"]),c(S,{name:s.strings.wordsToIgnore},{content:r(()=>[c(P,{minHeight:200,autosize:!1,modelValue:a.linkAssistantStore.options.main.wordsToIgnore,"onUpdate:modelValue":e[5]||(e[5]=w=>a.linkAssistantStore.options.main.wordsToIgnore=w)},null,8,["modelValue"])]),_:1},8,["name"])]),_:1},8,["header-text"])])}const ee=$(js,[["render",se]]);const ne={setup(){return{linkAssistantStore:x()}},components:{CoreMain:mt,CoreProcessingPopup:_t,DomainsReport:Wt,LinksReport:ys,Overview:ft,PostReport:Ks,Settings:ee},mixins:[ht,gt],data(){return{strings:{pageName:this.$t.__("Link Assistant",this.$td)}}},computed:{excludedTabs(){const t=(B.isActive("aioseo-link-assistant")?this.getExcludedUpdateTabs("aioseo-link-assistant"):this.getExcludedActivationTabs("aioseo-link-assistant"))||[];return t.push("post-report"),t}},mounted(){window.aioseoBus.$on("changes-saved",()=>{this.linkAssistantStore.getMenuData()}),this.$isPro&&this.linkAssistantStore.suggestionsScan.percent!==100&&B.isActive("aioseo-link-assistant")&&!B.requiresUpgrade("aioseo-link-assistant")&&B.hasMinimumVersion("aioseo-link-assistant")&&this.linkAssistantStore.pollSuggestionsScan()}},ie={class:"aioseo-link-assistant"};function oe(t,e,u,a,s,i){const y=o("core-main");return l(),T("div",ie,[c(y,{"page-name":s.strings.pageName,"exclude-tabs":i.excludedTabs,showTabs:t.$route.name!=="post-report"},{default:r(()=>[(l(),g(F(t.$route.name)))]),_:1},8,["page-name","exclude-tabs","showTabs"])])}const In=$(ne,[["render",oe]]);export{In as default};
